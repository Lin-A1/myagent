# myagent 产品设计文档 (v2.0)

## 1. 愿景与定位

### 1.1 产品愿景
myagent 旨在成为用户的**第二大脑与智能工作伙伴**，而非一个简单的问答工具。它通过深度整合个人信息、动态合成知识并主动感知用户意图，实现从“被动响应”到“主动共创”的进化，最终与用户共同成长。

### 1.2 产品定位
一个具备**动态知识合成能力**与**情景感知服务**的个人智能体。

### 1.3 核心创新点
- **动态知识合成 (Dynamic Knowledge Synthesis)**: 超越简单的信息检索，主动发现知识库、记忆与实时信息间的深层关联，生成全新的、更高维度的洞察。
- **情景感知与主动服务 (Context Awareness & Proactive Service)**: 作为常驻助手，能感知用户当前的工作上下文（如正在阅读的文章、撰写的邮件），并主动、非侵入式地提供相关信息与工具。
- **可进化的记忆网络 (Evolving Memory Network)**: 将用户的个人信息、偏好与习惯构建成一个动态的知识图谱。通过持续互动，网络会自我学习、推理和优化，让 myagent 越来越“懂”你。

## 2. 用户画像与典型场景

| 用户类型 | 关键诉求 | 创新场景示例 |
| --- | --- | --- |
| 学习者 / 研究者 | 激发新思路，连接知识点 | 在阅读论文A时，myagent主动提示：“您的知识库中论文B的观点与此相反，而您的记忆显示您曾对C理论表示认同，这三者可能存在一个新的研究方向。” |
| 创作者 / 自由职业者 | 打破创作瓶颈，获取灵感 | 在撰写关于“低碳生活”的草稿时，myagent侧边栏浮现：“根据您的知识库，‘社区堆肥’是一个热门话题。您的记忆显示您关注了环保博主X，他最近发布了相关内容，是否需要为您总结？” |
| 个人事务管理者 | 预测需求，自动化处理 | myagent检测到用户预订了去东京的机票（来自邮件），并结合其“喜欢逛美术馆”的记忆，主动推送：“为您规划了东京美术馆路线，并检查了您的日程表，发现周三下午有空闲，是否需要为您预订门票？” |

## 3. 价值主张
- **超越检索，获得洞察**: 不仅告诉你“是什么”，更能启发你“又如何”。
- **信息找人，无缝体验**: 无需切换应用、无需主动提问，所需信息在最需要时自动出现。
- **与你共成长**: 你用得越多，它就越智能，成为独一无二的个人伙伴。
- **绝对隐私与控制**: 所有智能处理均在本地或用户授权的云端进行，数据所有权与控制权完全归属用户。

## 4. 功能架构

### 4.1 功能总览
- **智能对话中枢 (Conversational Hub)**
- **情景感知引擎 (Contextual Engine)**
- **动态知识合成器 (Knowledge Synthesizer)**
- **可进化的记忆网络 (Evolving Memory Network)**
- **MCP 工具层 (MCP Toolbox)**
- **统一控制中心 (Unified Control Center)**

### 4.2 情景感知引擎
- **桌面客户端插件**: 作为系统的常驻部分，通过 Accessibility API (需用户授权) 感知用户当前聚焦的应用与内容（如浏览器URL、文档标题、代码片段）。
- **主动服务侧边栏 (Proactive Sidebar)**: 一个可收缩的侧边栏，当检测到高相关性信息时，会以低打扰方式（如微光闪烁）提示用户。内容包括相关知识点、记忆片段、可用工具等。
- **意图预测**: 基于当前情景与历史行为，预测用户下一步可能需要的操作，并提前准备好相关工具或信息。

### 4.3 动态知识合成器
- **跨域关联分析**: 定期或在触发时，扫描知识库、记忆网络与互联网信息，寻找潜在的联系、矛盾或趋势。
- **洞察生成**: 当发现强关联时，生成“洞察卡片”，例如“【新发现】您的项目A与您最近阅读的文章B在技术选型上存在共通的设计哲学”。
- **假设与提问**: 能够基于现有信息提出探索性问题，激发用户思考，如：“既然您对‘A’和‘B’都感兴趣，那么‘A+B’的交叉领域是否值得探索？”

### 4.4 可进化的记忆网络
- **从记录到图谱**: 个人记忆不再是孤立的键值对，而是以知识图谱的形式存储，节点是实体（人、事、物），边是关系。
- **关系推理**: 能够基于图谱进行推理。例如，(用户) -> [同事是] -> (张三)，(张三) -> [喜欢] -> (咖啡)，系统可以推断出“下次和张三开会时，可以聊聊咖啡”。
- **网络自优化**: 根据用户的反馈（如采纳或忽略建议）和新的对话，自动调整节点权重和边的关系，实现记忆的自我进化和遗忘。
- **记忆可视化**: 提供图谱可视化界面，让用户可以直观地探索自己的记忆网络，并进行手动编辑。

### 4.5 知识库 MCP (升级)
- 除了基础的导入和检索，增加**知识演化视图**，展示知识库内不同文档随时间推移的观点变化或关联增强。

### 4.6 统一控制中心
- **隐私与权限仪表盘**: 集中管理所有数据权限，包括情景感知范围、记忆网络敏感度、工具访问权限等，提供一键“静默模式”。
- **洞察与建议管理**: 用户可以在此回顾所有由myagent生成的洞察和主动建议，进行评分、采纳或归档，这些反馈是系统进化的重要养料。

## 5. 关键指标 (v2.0)
- **洞察采纳率**: 用户对动态知识合成器生成的“洞察卡片”的接受比例。
- **主动服务点击率**: 用户对情景感知侧边栏中推送内容的点击和交互频率。
- **记忆网络密度与广度**: 衡量记忆图谱的复杂性和覆盖范围，作为系统成长性的代理指标。
- **“惊喜”时刻反馈**: 通过定性调研或“点赞”按钮，收集用户感到“惊艳”或“非常有用”的时刻数量。

## 6. 风险与缓解措施 (v2.0)
| 风险 | 描述 | 对策 |
| --- | --- | --- |
| **主动打扰** | 过于频繁或不相关的“主动服务”会引起用户反感。 | - 提供清晰的打扰等级设置（安静、均衡、积极）。<br>- 建议的置信度阈值可由用户调节。<br>- 引入“冷却机制”，避免在短时间内重复提示。 |
| **错误洞察** | 合成的知识或洞察可能是错误的或无意义的。 | - 所有洞察都清晰标注来源和推理路径。<br>- 提供反馈机制，让用户可以“标记为无用”或“修正关联”。<br>- 初期以探索性提问而非陈述句的方式呈现洞察。 |
| **隐私边界模糊** | 情景感知可能让用户感到被“监视”。 | - **设计原则：用户永远是控制者**。<br>- 首次使用时进行透明、详细的权限说明。<br>- 提供一键“隐身模式”，临时关闭所有感知功能。<br>- 所有数据处理流程可视化，可供审计。 |
| **技术复杂度高** | 知识合成与推理的实现难度大，可能效果不佳。 | - **MVP优先**：从简单的规则和关联开始，例如“同一关键词在不同文档中出现”。<br>- 逐步引入更复杂的图算法和模型。<br>- 允许用户手动创建关联，作为冷启动和模型训练数据。 |

## 7. 路线图 (v2.0)
- **M0-M2 (基础构建)**: 完成v1.0功能，并搭建记忆网络的图谱基础。实现**手动创建**知识关联。
- **M3-M5 (主动服务萌芽)**: 上线情景感知引擎MVP，实现对浏览器URL和本地文档标题的感知。在侧边栏提供**基于关键词匹配**的主动建议。
- **M6-M9 (洞察与进化)**: 引入动态知识合成器v1，能发现并提示知识库内部的直接关联。上线记忆网络自优化v1，根据用户对建议的采纳情况调整权重。
- **M9+ (深度智能)**: 探索更复杂的跨域洞察和意图预测。开放记忆网络可视化与编辑功能，让用户参与到“第二大脑”的共建中。

---
*（保留原文档其他基础部分，如MCP集成规范、用户体验原则等，但其实现需围绕以上创新点进行调整。）*
